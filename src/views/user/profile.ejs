<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BESTBUY</title>
    <link rel="stylesheet" href="/css/user/userhome/header.css">
    <link rel="shortcut icon" href="/images/userhome/logo.png" type="image/.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <link rel="stylesheet" href="/css/user/userhome/responsiveHome.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v6.0.0-beta3/css/all.css">
   
    <style>
        /* CSS for the forms */
        .main-container {
            display: flex; /* Use flexbox to position forms side by side */
            justify-content: center; /* Center align the content */
            align-items: flex-start; /* Align forms to the top */
            gap: 20px; /* Add some space between the forms */
            margin-top: 20px;
        }


        #profile-form {
            width: 500px;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        #profile-form label {
            display: block;
            margin-bottom: 8px;
            color: #333;
        }

        #profile-form input[type="text"],
        #profile-form input[type="email"],
        #profile-form input[type="tel"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }

        #profile-form button {
            background-color: #4CAF50;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
        }

        #profile-form button:hover {
            background-color: #45a049;
        }

        .address {
            width: 50%;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        .address h2 {
            margin-bottom: 10px;
            color: #333;
        }

        .address label {
            display: block;
            margin-bottom: 8px;
            color: #333;
        }

        .address hr {
            margin: 10px 0;
            border: none;
            border-top: 1px solid #ccc;
        }
        input[readonly] {
    cursor: not-allowed; 
}

.alertMessage {
    background-color: #45A049; /* Red background color */
    color: white; /* White text color */
    padding: 15px; /* Padding */
    margin-bottom: 20px; /* Bottom margin */
    border-radius: 5px; /* Rounded corners */
    display: none; /* Hidden by default */
    text-align: center;
}

.alertMessage.show {
    display: block; /* Show the alert */
}

/* You can add more styles as needed */

.delete-btn {

    border:none;
    background: wheat;
}

#icon{
  margin-left: -21px;
  font-size: 13px;

}
button{

    background: none;
    border: none;
  font-size:20px;
}
.delete-btn{

    background: none;
    margin-left: 14px;
}
.edit-btn{



    margin-left: 550px;
}

.edit-address-form {
    display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: #fff;
  padding: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
  z-index: 999;
  width: 426px;
  max-width: 90%;
  height: 773px;
  height: 698px;
}



.edit-address-form label {
    display: block;
    margin-bottom: 10px;
    color: #333;
    font-weight: bold;
}

.edit-address-form input[type="text"],
.edit-address-form input[type="email"],
.edit-address-form input[type="tel"] {
    width: calc(100% - 40px); /* Subtract padding from the width */
    padding: 10px;
    margin-bottom: 16px;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-sizing: border-box;
}

.edit-address-form button {
    background-color: #4CAF50;
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
}

.edit-address-form button:hover {
    background-color: #45a049;
}
/* CSS for the blurred background */
.blur-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backdrop-filter: blur(36px); /* Apply a blur filter to the background */
    z-index: 998; /* Ensure the blurred background is below the form */
    background-color: rgba(255, 255, 255, 0.5); /* Adjust the background color and opacity */
    display: none; /* Initially hidden */
}



    </style>




</head>


<body>
    <div class="blur-background"></div>
    <section id="header">
        <a href="#"><img class ="logo"src="/images/userhome/logo.png" alt="logo" class="logo" style="width: 80px; height: 82px;"></a>
        <div>
            <ul id="navbar">
                <li class="search-bar">
                    <input type="text" name="searchbar" id="searchbar">
                    <i class="fa-solid fa-magnifying-glass" id="icon"></i>
                </li>
                <li><a class="active" href="/userhome" style="text-decoration: none;">Home</a></li>
                <li><a href="./sub-pages/shop.html">Category</a></li>
                <li><a href="/userhome/men">men</a></li>
                <li><a href="/userhome/women">women</a></li>
                <li><a href="/userhome/account">Account</a></li>
                <li><a href="/userhome/wishlist"><i class="fa-solid fa-heart"></i></a></li>
                <li class="lg-bag"><a href="/userhome/cart"><i class="fa-solid fa-bag-shopping"></i></a></li>
               
                <li><a href="/userhome/orders"><i class="fa-light fa-bags-shopping" style="color: #004080;"></i></a>               </li>
                <li><a href="#">logout</a></li>
            </ul>
        </div>
    </section>

    <div class="main-container">
        <form action="#" method="POST" id="profile-form">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" value="<%= person.username %>" readonly>
        
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" value="<%= person.email %>" readonly>
            
            <label for="password">Phone Number:</label>
            <input type="tel" id="password" name="phonenumber" value="<%= person.phone %>" readonly>


            <label for="address">Address:</label>
            <input type="text" id="address" name="address" placeholder="houseno street">
            
            
            <label for="locality">Locality:</label>
            <input type="text" id="locality" name="locality" value="<%= person1 ? person1.locality : null %>">
            
            <label for="landmark">Landmark:</label>
            <input type="text" id="landmark" name="landmark" value="<%= person1 ? person1.landmark : null %>">
            
            <label for="pin">Pin:</label>
            <input type="text" id="pin" name="pin" value="<%= person1 ? person1.pin : null %>">
            
            <button type="submit">Save</button>
        </form>

        <div class="address">
            <% if (address && address.length > 0) { %>
                <%let i=0 %>
                <h2>Addresses found</h2>
                <% address.forEach(function(address) { %>
                    <!-- Address details -->
                    <span id="<%=address._id %>">
                        <%=i=i+1%>: <%= address.address+","+address.landmark+","+address.locality+","+address.pin%> <br>
                        <!-- Edit icon -->
                        <button class="edit-btn" addressid="<%= address._id %>">
                            <i class="fa-solid fa-pencil"></i>
                        </button>
                        <!-- Delete button -->
                        <button class="delete-btn" addressid ="<%= address._id %>">
                            <i class="fa-solid fa-trash"></i>
                        </button>
                        <hr> <!-- Add a horizontal line between addresses -->
                    </span>
                <% }); %>
            <% } else { %>
                <h2>No Addresses found</h2>
            <% } %>
            <div id="alertMessage" class="alertMessage <%= alert ? 'show' : 'hidden' %>">
                <%= alert %>
            </div>
        </div>
    </div>
    <div id="edit-address-form" class="edit-address-form overlay">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" value="<%= person.username %>" readonly>
    
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="<%= person.email %>" readonly>
        
        <label for="password">Phone Number:</label>
        <input type="tel" id="password" name="phonenumber" value="<%= person.phone %>" readonly>


        <label for="address">Address:</label>
        <input type="text" id="address" name="address" placeholder="houseno street">
        
        
        <label for="locality">Locality:</label>
        <input type="text" id="locality" name="locality" value="<%= person1 ? person1.locality : null %>">
        
        <label for="landmark">Landmark:</label>
        <input type="text" id="landmark" name="landmark" value="<%= person1 ? person1.landmark : null %>">
        
        <label for="pin">Pin:</label>
        <input type="text" id="pin" name="pin" value="<%= person1 ? person1.pin : null %>">
        <div style="display:flex; gap:5px" >
            <button id="save-address-btn">Save</button>
        <button id="cancel-edit-btn">Cancel</button>
        </div>
    </div>
  

</body>
</html>
<script src="/script/userhome.js"></script>

    <script src ="/script/wishlist.js"></script>
<script src="/script/alertmessageforadress.js"></script>
<script src="/script/deleteaddress.js"></script>